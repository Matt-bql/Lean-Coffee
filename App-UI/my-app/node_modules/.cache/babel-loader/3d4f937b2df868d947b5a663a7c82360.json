{"ast":null,"code":"import _toConsumableArray from\"/Users/lisab/Dev/Lean-Coffee/App-UI/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"/Users/lisab/Dev/Lean-Coffee/App-UI/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/lisab/Dev/Lean-Coffee/App-UI/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/lisab/Dev/Lean-Coffee/App-UI/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{BrowserRouter as Router,Switch,Route}from\"react-router-dom\";import{v4 as uuidv4}from\"uuid\";import axios from\"axios\";import\"./Styles/App.scss\";import\"./Styles/Reset.css\";import\"./Styles/Header.scss\";import\"./Styles/ContentBody.scss\";import Header from\"./components/Header.js\";import ContentBodyParent from\"./components/ContentBodyParent.js\";import DiscussionSession from\"./components/DiscussionSession.js\";import{TopicContext}from\"./components/Contexts/TopicContext\";import{Container,createTheme}from\"@material-ui/core\";import{red}from\"@material-ui/core/colors\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var theme=createTheme({palette:{primary:{main:\"#556cd6\"},secondary:{main:\"#19857b\"},error:{main:red.A400},background:{default:\"#fff\"}}});export default function App(){// State\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),topics=_useState2[0],setTopics=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),topicInput=_useState4[0],setTopicInput=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isLoading=_useState6[0],setIsLoading=_useState6[1];useEffect(function(){getTopics();},[]);// Functions\n// Fetching data\nfunction getTopics(){return _getTopics.apply(this,arguments);}// Grabs input data to eventually use when 'add topic' button is clicked.\nfunction _getTopics(){_getTopics=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;setIsLoading(true);_context.next=4;return axios.get(\"http://localhost:8000/api/topics\").then(function(response){return response.data;}).then(function(res){return setTopics(res.Items);}).then(setIsLoading(false));case 4:_context.next=9;break;case 6:_context.prev=6;_context.t0=_context[\"catch\"](0);console.log(\"Did not fetch topics: \",_context.t0);case 9:case\"end\":return _context.stop();}}},_callee,null,[[0,6]]);}));return _getTopics.apply(this,arguments);}function topicInputHandler(e){setTopicInput(e.target.value);}// make post -- gives me response. I update ui using react\n// this function makes use of optimistic ui concepts..\nfunction createTopic(){return _createTopic.apply(this,arguments);}function _createTopic(){_createTopic=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var newTopic;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(topicInput===\"\")){_context2.next=4;break;}alert(\"Topic cannot be empty.\");_context2.next=15;break;case 4:_context2.prev=4;setIsLoading(true);newTopic={id:uuidv4().toString(),topicTitle:topicInput};setTopicInput(\"\");_context2.next=10;return axios.post(\"http://localhost:8000/api\",newTopic).then(function(res){setIsLoading(false);return res;}).then(function(res){// make sure update happened. Only update the ui if the\n// DB has been updated. if not, show error.\nconsole.log(\"foobar\",res);var updatedTopics=[].concat(_toConsumableArray(topics),[newTopic]);setTopics(updatedTopics);});case 10:_context2.next=15;break;case 12:_context2.prev=12;_context2.t0=_context2[\"catch\"](4);console.log(\"error with 'createTopic()': \",_context2.t0);case 15:case\"end\":return _context2.stop();}}},_callee2,null,[[4,12]]);}));return _createTopic.apply(this,arguments);}return/*#__PURE__*/ (// Using React-Router for Home/Session Pages\n// Implenting-Material-UI\n_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Container,{theme:theme,maxWidth:\"md\",bgcolor:\"primary\",children:/*#__PURE__*/_jsxs(Router,{children:[/*#__PURE__*/_jsx(Header,{className:\"Header\"}),/*#__PURE__*/_jsx(\"div\",{className:\"App-Body\",children:/*#__PURE__*/_jsx(Switch,{children:/*#__PURE__*/_jsxs(TopicContext.Provider,{value:{topics:topics,isLoading:isLoading,getTopics:getTopics,setIsLoading:setIsLoading,setTopics:setTopics},children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(ContentBodyParent,{className:\"Topic-Child-Container\",createTopic:createTopic,input:topicInput,topicInputHandler:topicInputHandler})})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/discussion\",children:/*#__PURE__*/_jsx(DiscussionSession,{})})]})})})]})})}));}","map":{"version":3,"sources":["/Users/lisab/Dev/Lean-Coffee/App-UI/my-app/src/App.js"],"names":["React","useState","useEffect","BrowserRouter","Router","Switch","Route","v4","uuidv4","axios","Header","ContentBodyParent","DiscussionSession","TopicContext","Container","createTheme","red","theme","palette","primary","main","secondary","error","A400","background","default","App","topics","setTopics","topicInput","setTopicInput","isLoading","setIsLoading","getTopics","get","then","response","data","res","Items","console","log","topicInputHandler","e","target","value","createTopic","alert","newTopic","id","toString","topicTitle","post","updatedTopics"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport axios from \"axios\";\nimport \"./Styles/App.scss\";\nimport \"./Styles/Reset.css\";\nimport \"./Styles/Header.scss\";\nimport \"./Styles/ContentBody.scss\";\nimport Header from \"./components/Header.js\";\nimport ContentBodyParent from \"./components/ContentBodyParent.js\";\nimport DiscussionSession from \"./components/DiscussionSession.js\";\nimport { TopicContext } from \"./components/Contexts/TopicContext\";\n\nimport { Container, createTheme } from \"@material-ui/core\";\nimport { red } from \"@material-ui/core/colors\";\n\nconst theme = createTheme({\n  palette: {\n    primary: {\n      main: \"#556cd6\",\n    },\n    secondary: {\n      main: \"#19857b\",\n    },\n    error: {\n      main: red.A400,\n    },\n    background: {\n      default: \"#fff\",\n    },\n  },\n});\n\nexport default function App() {\n  // State\n  const [topics, setTopics] = useState([]);\n  const [topicInput, setTopicInput] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    getTopics();\n  }, []);\n\n  // Functions\n  // Fetching data\n  async function getTopics() {\n    try {\n      setIsLoading(true);\n      await axios\n        .get(\"http://localhost:8000/api/topics\")\n        .then(response => response.data)\n        .then(res => setTopics(res.Items))\n        .then(setIsLoading(false));\n    } catch (err) {\n      console.log(\"Did not fetch topics: \", err);\n    }\n  }\n\n  // Grabs input data to eventually use when 'add topic' button is clicked.\n  function topicInputHandler(e) {\n    setTopicInput(e.target.value);\n  }\n  // make post -- gives me response. I update ui using react\n  // this function makes use of optimistic ui concepts..\n  async function createTopic() {\n    if (topicInput === \"\") {\n      alert(\"Topic cannot be empty.\");\n    } else {\n      try {\n        setIsLoading(true);\n        const newTopic = {\n          id: uuidv4().toString(),\n          topicTitle: topicInput,\n        };\n        setTopicInput(\"\");\n        await axios\n          .post(\"http://localhost:8000/api\", newTopic)\n          .then(res => {\n            setIsLoading(false);\n            return res;\n          })\n          .then(res => {\n            // make sure update happened. Only update the ui if the\n            // DB has been updated. if not, show error.\n            console.log(\"foobar\", res);\n            const updatedTopics = [...topics, newTopic];\n            setTopics(updatedTopics);\n          });\n        // .then(getTopics());\n      } catch (err) {\n        console.log(\"error with 'createTopic()': \", err);\n      }\n    }\n  }\n\n  return (\n    // Using React-Router for Home/Session Pages\n    // Implenting-Material-UI\n    <>\n      {/* wrapping app in container to test how to use material ui */}\n      <Container theme={theme} maxWidth='md' bgcolor='primary'>\n        <Router>\n          <Header className='Header' />\n          <div className='App-Body'>\n            <Switch>\n              <TopicContext.Provider\n                value={{\n                  topics,\n                  isLoading,\n                  getTopics,\n                  setIsLoading,\n                  setTopics,\n                }}\n              >\n                <Route exact path='/'>\n                  <div>\n                    <ContentBodyParent\n                      className='Topic-Child-Container'\n                      createTopic={createTopic}\n                      input={topicInput}\n                      topicInputHandler={topicInputHandler}\n                    />\n                  </div>\n                </Route>\n                <Route exact path='/discussion'>\n                  <DiscussionSession />\n                </Route>\n              </TopicContext.Provider>\n            </Switch>\n          </div>\n        </Router>\n      </Container>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}