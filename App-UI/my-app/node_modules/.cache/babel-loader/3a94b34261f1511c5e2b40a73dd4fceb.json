{"ast":null,"code":"import _objectSpread from\"/Users/lisab/Dev/Lean-Coffee/App-UI/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/lisab/Dev/Lean-Coffee/App-UI/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/lisab/Dev/Lean-Coffee/App-UI/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/lisab/Dev/Lean-Coffee/App-UI/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function ContentBody(_ref){var topic=_ref.topic,getTopics=_ref.getTopics,id=_ref.id,setIsLoading=_ref.setIsLoading,setTopics=_ref.setTopics,topics=_ref.topics;// State\nvar _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),inputChange=_useState2[0],setInputChange=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isTopicClicked=_useState4[0],setIsTopicClicked=_useState4[1];//Functions\nfunction deleteTopic(_x){return _deleteTopic.apply(this,arguments);}function _deleteTopic(){_deleteTopic=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(itemId){var newArr;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.delete(\"http://localhost:8000/api/\".concat(topic.id));case 3:_context.next=5;return topics.filter(function(item){return item.id!==itemId;});case 5:newArr=_context.sent;_context.next=8;return setTopics(newArr);case 8:_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));return _deleteTopic.apply(this,arguments);}function inputChangeHandler(e){setInputChange(e.target.value);}function submitTopicTitleChange(_x2){return _submitTopicTitleChange.apply(this,arguments);}function _submitTopicTitleChange(){_submitTopicTitleChange=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(topicId){var updatedTopic,updatedItem;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(inputChange===\"\")){_context2.next=4;break;}alert(\"Field must not be empty.\");_context2.next=19;break;case 4:_context2.prev=4;updatedTopic={topicTitle:inputChange};_context2.next=8;return axios.post(\"http://localhost:8000/api/topic/\".concat(id),updatedTopic);case 8:_context2.next=10;return topics.map(function(item){if(item.id===topicId){var items=_objectSpread(_objectSpread({},item),{},{topicTitle:inputChange});return items;}return item;});case 10:updatedItem=_context2.sent;console.log(updatedItem);setTopics(updatedItem);setIsTopicClicked(false);_context2.next=19;break;case 16:_context2.prev=16;_context2.t0=_context2[\"catch\"](4);console.log(_context2.t0);case 19:case\"end\":return _context2.stop();}}},_callee2,null,[[4,16]]);}));return _submitTopicTitleChange.apply(this,arguments);}return/*#__PURE__*/_jsx(\"div\",{children:!isTopicClicked?/*#__PURE__*/_jsxs(\"div\",{className:\"Card-Topics-Wrapper\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"Card-Topics\",children:/*#__PURE__*/_jsx(\"p\",{className:\"Card-Title\",onClick:function onClick(){setIsTopicClicked(true);},children:topic.topicTitle})}),/*#__PURE__*/_jsx(\"div\",{className:\"Bottom-Card-Portion\",children:/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return deleteTopic(id);},className:\"Bottom-Card-Portion-Text2\",children:\"delete\"})})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"Card-Topics-Wrapper\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"Card-Topics\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"Card-Title\",children:[/*#__PURE__*/_jsx(\"input\",{onInput:inputChangeHandler}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return submitTopicTitleChange(id);},children:\"Submit Change\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"Bottom-Card-Portion\",children:/*#__PURE__*/_jsx(\"div\",{className:\"Bottom-Card-Portion-Text2\",children:\"delete\"})})]})},id);}","map":{"version":3,"sources":["/Users/lisab/Dev/Lean-Coffee/App-UI/my-app/src/components/ContentBody.js"],"names":["React","useState","axios","ContentBody","topic","getTopics","id","setIsLoading","setTopics","topics","inputChange","setInputChange","isTopicClicked","setIsTopicClicked","deleteTopic","itemId","delete","filter","item","newArr","console","log","inputChangeHandler","e","target","value","submitTopicTitleChange","topicId","alert","updatedTopic","topicTitle","post","map","items","updatedItem"],"mappings":"goBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,wFAEA,cAAe,SAASC,CAAAA,WAAT,MAOZ,IANDC,CAAAA,KAMC,MANDA,KAMC,CALDC,SAKC,MALDA,SAKC,CAJDC,EAIC,MAJDA,EAIC,CAHDC,YAGC,MAHDA,YAGC,CAFDC,SAEC,MAFDA,SAEC,CADDC,MACC,MADDA,MACC,CACD;AADC,cAEqCR,QAAQ,CAAC,EAAD,CAF7C,wCAEMS,WAFN,eAEmBC,cAFnB,8BAG2CV,QAAQ,CAAC,KAAD,CAHnD,yCAGMW,cAHN,eAGsBC,iBAHtB,eAKD;AALC,QAMcC,CAAAA,WANd,6IAMD,iBAA2BC,MAA3B,mKAEUb,CAAAA,KAAK,CAACc,MAAN,qCAA0CZ,KAAK,CAACE,EAAhD,EAFV,8BAGyBG,CAAAA,MAAM,CAACQ,MAAP,CAAc,SAAAC,IAAI,QAAIA,CAAAA,IAAI,CAACZ,EAAL,GAAYS,MAAhB,EAAlB,CAHzB,QAGUI,MAHV,qCAIUX,CAAAA,SAAS,CAACW,MAAD,CAJnB,yFAMIC,OAAO,CAACC,GAAR,cANJ,qEANC,8CAgBD,QAASC,CAAAA,kBAAT,CAA4BC,CAA5B,CAA+B,CAC7BZ,cAAc,CAACY,CAAC,CAACC,MAAF,CAASC,KAAV,CAAd,CACD,CAlBA,QAoBcC,CAAAA,sBApBd,+KAoBD,kBAAsCC,OAAtC,wJACMjB,WAAW,GAAK,EADtB,2BAEIkB,KAAK,CAAC,0BAAD,CAAL,CAFJ,gDAKYC,YALZ,CAK2B,CAAEC,UAAU,CAAEpB,WAAd,CAL3B,wBAMYR,CAAAA,KAAK,CAAC6B,IAAN,2CAA8CzB,EAA9C,EAAoDuB,YAApD,CANZ,gCAOgCpB,CAAAA,MAAM,CAACuB,GAAP,CAAW,SAAAd,IAAI,CAAI,CAC3C,GAAIA,IAAI,CAACZ,EAAL,GAAYqB,OAAhB,CAAyB,CACvB,GAAMM,CAAAA,KAAK,gCAAQf,IAAR,MAAcY,UAAU,CAAEpB,WAA1B,EAAX,CACA,MAAOuB,CAAAA,KAAP,CACD,CACD,MAAOf,CAAAA,IAAP,CACD,CANyB,CAPhC,SAOYgB,WAPZ,gBAcMd,OAAO,CAACC,GAAR,CAAYa,WAAZ,EACA1B,SAAS,CAAC0B,WAAD,CAAT,CACArB,iBAAiB,CAAC,KAAD,CAAjB,CAhBN,qFAkBMO,OAAO,CAACC,GAAR,eAlBN,uEApBC,yDA2CD,mBACE,qBACG,CAACT,cAAD,cACC,aAAK,SAAS,CAAC,qBAAf,wBACE,YAAK,SAAS,CAAC,aAAf,uBACE,UACE,SAAS,CAAC,YADZ,CAEE,OAAO,CAAE,kBAAM,CACbC,iBAAiB,CAAC,IAAD,CAAjB,CACD,CAJH,UAMGT,KAAK,CAAC0B,UANT,EADF,EADF,cAWE,YAAK,SAAS,CAAC,qBAAf,uBAGE,YACE,OAAO,CAAE,yBAAMhB,CAAAA,WAAW,CAACR,EAAD,CAAjB,EADX,CAEE,SAAS,CAAC,2BAFZ,oBAHF,EAXF,GADD,cAwBC,aAAK,SAAS,CAAC,qBAAf,wBACE,YAAK,SAAS,CAAC,aAAf,uBACE,WAAG,SAAS,CAAC,YAAb,wBACE,cAAO,OAAO,CAAEgB,kBAAhB,EADF,cAEE,eAAQ,OAAO,CAAE,yBAAMI,CAAAA,sBAAsB,CAACpB,EAAD,CAA5B,EAAjB,2BAFF,GADF,EADF,cASE,YAAK,SAAS,CAAC,qBAAf,uBAGE,YAAK,SAAS,CAAC,2BAAf,oBAHF,EATF,GAzBJ,EAAUA,EAAV,CADF,CA4CD","sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\n\nexport default function ContentBody({\n  topic,\n  getTopics,\n  id,\n  setIsLoading,\n  setTopics,\n  topics,\n}) {\n  // State\n  const [inputChange, setInputChange] = useState(\"\");\n  const [isTopicClicked, setIsTopicClicked] = useState(false);\n\n  //Functions\n  async function deleteTopic(itemId) {\n    try {\n      await axios.delete(`http://localhost:8000/api/${topic.id}`);\n      const newArr = await topics.filter(item => item.id !== itemId);\n      await setTopics(newArr);\n    } catch (err) {\n      console.log(err);\n    }\n  }\n\n  function inputChangeHandler(e) {\n    setInputChange(e.target.value);\n  }\n\n  async function submitTopicTitleChange(topicId) {\n    if (inputChange === \"\") {\n      alert(\"Field must not be empty.\");\n    } else {\n      try {\n        const updatedTopic = { topicTitle: inputChange };\n        await axios.post(`http://localhost:8000/api/topic/${id}`, updatedTopic);\n        const updatedItem = await topics.map(item => {\n          if (item.id === topicId) {\n            const items = { ...item, topicTitle: inputChange };\n            return items;\n          }\n          return item;\n        });\n        console.log(updatedItem);\n        setTopics(updatedItem);\n        setIsTopicClicked(false);\n      } catch (err) {\n        console.log(err);\n      }\n    }\n  }\n\n  return (\n    <div key={id}>\n      {!isTopicClicked ? (\n        <div className='Card-Topics-Wrapper'>\n          <div className='Card-Topics'>\n            <p\n              className='Card-Title'\n              onClick={() => {\n                setIsTopicClicked(true);\n              }}\n            >\n              {topic.topicTitle}\n            </p>\n          </div>\n          <div className='Bottom-Card-Portion'>\n            {/* This is where the voting element will live...\n            <div className='Bottom-Card-Portion-Text'>vote</div>*/}\n            <div\n              onClick={() => deleteTopic(id)}\n              className='Bottom-Card-Portion-Text2'\n            >\n              delete\n            </div>\n          </div>\n        </div>\n      ) : (\n        <div className='Card-Topics-Wrapper'>\n          <div className='Card-Topics'>\n            <p className='Card-Title'>\n              <input onInput={inputChangeHandler}></input>\n              <button onClick={() => submitTopicTitleChange(id)}>\n                Submit Change\n              </button>\n            </p>\n          </div>\n          <div className='Bottom-Card-Portion'>\n            {/* This is where the voting element will live...\n            <div className='Bottom-Card-Portion-Text'>vote</div>*/}\n            <div className='Bottom-Card-Portion-Text2'>delete</div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}