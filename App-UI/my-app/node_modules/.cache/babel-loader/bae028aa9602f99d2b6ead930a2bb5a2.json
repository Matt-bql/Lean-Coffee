{"ast":null,"code":"import _objectSpread from\"/Users/lisab/Dev/Lean-Coffee/App-UI/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/lisab/Dev/Lean-Coffee/App-UI/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _toConsumableArray from\"/Users/lisab/Dev/Lean-Coffee/App-UI/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _defineProperty from\"/Users/lisab/Dev/Lean-Coffee/App-UI/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import React,{useContext,useState,useEffect}from\"react\";import{TopicContext}from\"../Contexts/TopicContext\";import{DragDropContext,Draggable,Droppable}from\"react-beautiful-dnd\";import{v4 as uuidv4}from\"uuid\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function DragandDropContainer(){var _columnsFromBackend;var _useContext=useContext(TopicContext),topics=_useContext.topics;useEffect(function(){},[topics]);console.log(\"topics: \",topics);var columnsFromBackend=(_columnsFromBackend={},_defineProperty(_columnsFromBackend,uuidv4(),{name:\"Requested\",items:topics}),_defineProperty(_columnsFromBackend,uuidv4(),{name:\"Current Discussion\",items:[]}),_defineProperty(_columnsFromBackend,uuidv4(),{name:\"Completed\",items:[]}),_columnsFromBackend);var _onDragEnd=function onDragEnd(result,columns,setColumns){if(!result.destination)return;var source=result.source,destination=result.destination;if(source.droppableId!==destination.droppableId){var _objectSpread2;var sourceColumn=columns[source.droppableId];var destColumn=columns[destination.droppableId];var sourceItems=_toConsumableArray(sourceColumn.items);var destItems=_toConsumableArray(destColumn.items);var _sourceItems$splice=sourceItems.splice(source.index,1),_sourceItems$splice2=_slicedToArray(_sourceItems$splice,1),removed=_sourceItems$splice2[0];destItems.splice(destination.index,0,removed);setColumns(_objectSpread(_objectSpread({},columns),{},(_objectSpread2={},_defineProperty(_objectSpread2,source.droppableId,_objectSpread(_objectSpread({},sourceColumn),{},{items:sourceItems})),_defineProperty(_objectSpread2,destination.droppableId,_objectSpread(_objectSpread({},destColumn),{},{items:destItems})),_objectSpread2)));}else{var column=columns[source.droppableId];var copiedItems=_toConsumableArray(column.items);var _copiedItems$splice=copiedItems.splice(source.index,1),_copiedItems$splice2=_slicedToArray(_copiedItems$splice,1),_removed=_copiedItems$splice2[0];copiedItems.splice(destination.index,0,_removed);setColumns(_objectSpread(_objectSpread({},columns),{},_defineProperty({},source.droppableId,_objectSpread(_objectSpread({},column),{},{items:copiedItems}))));}};// console.log(columnsFromTheBackend);\nvar _useState=useState(columnsFromBackend),_useState2=_slicedToArray(_useState,2),columns=_useState2[0],setColumns=_useState2[1];return/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",justifyContent:\"center\",height:\"100%\"},children:/*#__PURE__*/_jsx(DragDropContext,{onDragEnd:function onDragEnd(result){return _onDragEnd(result,columns,setColumns);},children:Object.entries(columns).map(function(_ref,index){var _ref2=_slicedToArray(_ref,2),columnId=_ref2[0],column=_ref2[1];return/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",flexDirection:\"column\",alignItems:\"center\"},children:[/*#__PURE__*/_jsx(\"h2\",{children:column.name}),/*#__PURE__*/_jsx(\"div\",{style:{margin:8},children:/*#__PURE__*/_jsx(Droppable,{droppableId:columnId,children:function children(provided,snapshot){return/*#__PURE__*/_jsxs(\"div\",_objectSpread(_objectSpread({},provided.droppableProps),{},{ref:provided.innerRef,style:{background:snapshot.isDraggingOver?\"lightblue\":\"lightgrey\",padding:4,width:250,minHeight:500},children:[column.items.map(function(item,index){return/*#__PURE__*/_jsx(Draggable,{draggableId:item.id,index:index,children:function children(provided,snapshot){return/*#__PURE__*/_jsx(\"div\",_objectSpread(_objectSpread(_objectSpread({ref:provided.innerRef},provided.draggableProps),provided.dragHandleProps),{},{style:_objectSpread({userSelect:\"none\",padding:16,margin:\"0 0 8px 0\",minHeight:\"50px\",backgroundColor:snapshot.isDragging?\"#263B4A\":\"#456C86\",color:\"white\"},provided.draggableProps.style),children:item.topicTitle}));}},item.id);}),provided.placeholder]}));}},columnId)})]},columnId);})})});}","map":{"version":3,"sources":["/Users/lisab/Dev/Lean-Coffee/App-UI/my-app/src/components/DragandDrop/DragandDropContainer.js.js"],"names":["React","useContext","useState","useEffect","TopicContext","DragDropContext","Draggable","Droppable","v4","uuidv4","DragandDropContainer","topics","console","log","columnsFromBackend","name","items","onDragEnd","result","columns","setColumns","destination","source","droppableId","sourceColumn","destColumn","sourceItems","destItems","splice","index","removed","column","copiedItems","display","justifyContent","height","Object","entries","map","columnId","flexDirection","alignItems","margin","provided","snapshot","droppableProps","innerRef","background","isDraggingOver","padding","width","minHeight","item","id","draggableProps","dragHandleProps","userSelect","backgroundColor","isDragging","color","style","topicTitle","placeholder"],"mappings":"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","sourcesContent":["import React, { useContext, useState, useEffect } from \"react\";\nimport { TopicContext } from \"../Contexts/TopicContext\";\nimport { DragDropContext, Draggable, Droppable } from \"react-beautiful-dnd\";\nimport { v4 as uuidv4 } from \"uuid\";\n\nexport default function DragandDropContainer() {\n  const { topics } = useContext(TopicContext);\n  useEffect(() => {}, [topics]);\n\n  console.log(\"topics: \", topics);\n  const columnsFromBackend = {\n    [uuidv4()]: {\n      name: \"Requested\",\n      items: topics,\n    },\n    [uuidv4()]: {\n      name: \"Current Discussion\",\n      items: [],\n    },\n    [uuidv4()]: {\n      name: \"Completed\",\n      items: [],\n    },\n  };\n\n  const onDragEnd = (result, columns, setColumns) => {\n    if (!result.destination) return;\n    const { source, destination } = result;\n    if (source.droppableId !== destination.droppableId) {\n      const sourceColumn = columns[source.droppableId];\n      const destColumn = columns[destination.droppableId];\n      const sourceItems = [...sourceColumn.items];\n      const destItems = [...destColumn.items];\n      const [removed] = sourceItems.splice(source.index, 1);\n      destItems.splice(destination.index, 0, removed);\n      setColumns({\n        ...columns,\n        [source.droppableId]: {\n          ...sourceColumn,\n          items: sourceItems,\n        },\n        [destination.droppableId]: {\n          ...destColumn,\n          items: destItems,\n        },\n      });\n    } else {\n      const column = columns[source.droppableId];\n      const copiedItems = [...column.items];\n      const [removed] = copiedItems.splice(source.index, 1);\n      copiedItems.splice(destination.index, 0, removed);\n      setColumns({\n        ...columns,\n        [source.droppableId]: {\n          ...column,\n          items: copiedItems,\n        },\n      });\n    }\n  };\n  // console.log(columnsFromTheBackend);\n\n  const [columns, setColumns] = useState(columnsFromBackend);\n  return (\n    <div style={{ display: \"flex\", justifyContent: \"center\", height: \"100%\" }}>\n      <DragDropContext\n        onDragEnd={result => onDragEnd(result, columns, setColumns)}\n      >\n        {Object.entries(columns).map(([columnId, column], index) => {\n          return (\n            <div\n              style={{\n                display: \"flex\",\n                flexDirection: \"column\",\n                alignItems: \"center\",\n              }}\n              key={columnId}\n            >\n              <h2>{column.name}</h2>\n              <div style={{ margin: 8 }}>\n                <Droppable droppableId={columnId} key={columnId}>\n                  {(provided, snapshot) => {\n                    return (\n                      <div\n                        {...provided.droppableProps}\n                        ref={provided.innerRef}\n                        style={{\n                          background: snapshot.isDraggingOver\n                            ? \"lightblue\"\n                            : \"lightgrey\",\n                          padding: 4,\n                          width: 250,\n                          minHeight: 500,\n                        }}\n                      >\n                        {column.items.map((item, index) => {\n                          return (\n                            <Draggable\n                              key={item.id}\n                              draggableId={item.id}\n                              index={index}\n                            >\n                              {(provided, snapshot) => {\n                                return (\n                                  <div\n                                    ref={provided.innerRef}\n                                    {...provided.draggableProps}\n                                    {...provided.dragHandleProps}\n                                    style={{\n                                      userSelect: \"none\",\n                                      padding: 16,\n                                      margin: \"0 0 8px 0\",\n                                      minHeight: \"50px\",\n                                      backgroundColor: snapshot.isDragging\n                                        ? \"#263B4A\"\n                                        : \"#456C86\",\n                                      color: \"white\",\n                                      ...provided.draggableProps.style,\n                                    }}\n                                  >\n                                    {item.topicTitle}\n                                  </div>\n                                );\n                              }}\n                            </Draggable>\n                          );\n                        })}\n                        {provided.placeholder}\n                      </div>\n                    );\n                  }}\n                </Droppable>\n              </div>\n            </div>\n          );\n        })}\n      </DragDropContext>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}